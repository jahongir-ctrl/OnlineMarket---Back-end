<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
</p>
# üõí Online Market API

![NestJS](https://img.shields.io/badge/NestJS-API-red?style=for-the-badge&logo=nestjs)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-Database-blue?style=for-the-badge&logo=postgresql)
![Prisma](https://img.shields.io/badge/Prisma-ORM-black?style=for-the-badge&logo=prisma)

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–±—ç–∫–µ–Ω–¥ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:
- —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (JWT)
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –±—Ä–µ–Ω–¥–∞–º–∏
- –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –∫–æ—Ä–∑–∏–Ω—É
- —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –ø–æ —Ä–æ–ª—è–º (`USER`, `ADMIN`)

## üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **NestJS** ‚Äî backend framework
- **PostgreSQL** ‚Äî —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –°–£–ë–î
- **Prisma** ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **JWT** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Docker** 

---

## üèÅ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/—Ç–≤–æ—è-—Å—Å—ã–ª–∫–∞/online-market-backend.git
cd online-market-backend

```

2. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
npm install
```

3. –ù–∞—Å—Ç—Ä–æ–π .env —Ñ–∞–π–ª
–°–æ–∑–¥–∞–π —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/shop_db?schema=public"
JWT_SECRET="—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á"
```

4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```
npx prisma migrate dev --name init
```
(–µ—Å–ª–∏ –±–∞–∑–∞ –ø—É—Å—Ç–∞—è ‚Äî —Å–Ω–∞—á–∞–ª–∞ npx prisma migrate reset)

5. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```
npm run start:dev
```



üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
src/
‚îú‚îÄ‚îÄ auth/             # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ users/            # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îú‚îÄ‚îÄ products/         # CRUD —Ç–æ–≤–∞—Ä–æ–≤
‚îú‚îÄ‚îÄ categories/       # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
‚îú‚îÄ‚îÄ brands/           # –ë—Ä–µ–Ω–¥—ã —Ç–æ–≤–∞—Ä–æ–≤
‚îú‚îÄ‚îÄ favorites/        # –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
‚îú‚îÄ‚îÄ cart/             # –ö–æ—Ä–∑–∏–Ω–∞
‚îú‚îÄ‚îÄ prisma/           # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Prisma
‚îî‚îÄ‚îÄ main.ts           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```


üîë –†–æ–ª–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
–†–æ–ª—å	–î–æ—Å—Ç—É–ø
USER	–ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É/–∏–∑–±—Ä–∞–Ω–Ω–æ–µ
ADMIN	–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (CRUD —Ç–æ–≤–∞—Ä–æ–≤, –±—Ä–µ–Ω–¥–æ–≤, –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ç.–¥.)

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ JWT. –ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω:

```
Authorization: Bearer <–≤–∞—à_—Ç–æ–∫–µ–Ω>
```

üì¶ –ü—Ä–∏–º–µ—Ä—ã API-–∑–∞–ø—Ä–æ—Å–æ–≤
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```
POST /auth/register
```
```
{
  "email": "test@mail.com",
  "password": "123456"
}
```


–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```
POST /auth/login
```

```{
  "email": "test@mail.com",
  "password": "123456"
}
```

–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
```
GET /products
```

–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä (admin)
```
POST /products
Authorization: Bearer <TOKEN>
```

```
{
  "name": "iPhone 14",
  "price": 1200,
  "description": "–°–º–∞—Ä—Ç—Ñ–æ–Ω Apple",
  "categoryId": 1,
  "brandId": 2
}
```
